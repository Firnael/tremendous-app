<!-- Roster page -->
<!-- Sidebar -->
<trmds-side-bar page="roster"></trmds-side-bar>

<div class="rows-wrapper" ng-class="$root.open">

<div class="row title-bar">
  <div class="col-md-12">
    <h2>Roster <small class="fade" ng-show="vm.mains.length">
      {{ vm.mains.length }} blaireaux - ilvl moyen: {{ vm.getAverageIlvl() }}
      </small>
    </h2>
  </div>
</div>
<br/>

<div class="row">

  <!-- Roster -->
  <table class="fade table table-condensed table-hover" ng-show="vm.mains.length">
    <thead>
      <tr>
        <th>Role</th>
        <th>Name</th>
        <th>ilvl</th>
        <th><trmds-slot-icons slot="head" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="neck" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="shoulder" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="back" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="chest" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="wrist" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="hands" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="waist" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="legs" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="feet" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="finger1" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="finger2" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="trinket1" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="trinket2" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="mainHand" size="24"></trmds-slot-icons></th>
        <th><trmds-slot-icons slot="offHand" size="24"></trmds-slot-icons></th>
        <th>Gems</th>
        <th>Enchants</th>
        <th>T18</th>
        <th>Bonuses</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="main in vm.mains | orderBy:['+role', '+class', '-averageItemLevel']">
        <!-- Role -->
        <td><trmds-role-icons role="{{ main.role }}" size="24"></trmds-role-icons></td>
        <!-- Name + Class -->
        <td><a ng-href="#/character/{{ main.name }}" class="roster-item-name" ng-class="vm.getClassColor(main.class)">
          {{ main.name }}
        </a></td>
        <!-- ilvl -->
        <td ng-class="vm.getIlvlColor(main.averageItemLevel)">{{ main.averageItemLevel }}</td>
        <!-- Slots -->
        <td ng-repeat="item in main.items" ng-class="vm.getQualityColor(item.quality)">{{ item.ilvl ? item.ilvl : ''}}</td>
        <!-- Gems -->
        <td>{{ main.audit.equipedGems }}/{{ main.audit.gemSlots }}</td>
        <!-- Enchants -->
        <td>{{ 6 - main.audit.missingEnchants }}/6</td>
        <!-- T18 set pieces -->
        <td>{{ main.audit.equipedSetPieces }}/4</td>
        <!-- Bonuses -->
        <td>?</td>
      </tr>
    </tbody>
  </table>

</div>
</div>
